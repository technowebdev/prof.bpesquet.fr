<!doctype html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    

    <link href="http://prof.bpesquet.fr/vendor/bootstrap-3.1.1/css/bootstrap.min.css" rel="stylesheet">
    <link href="http://prof.bpesquet.fr/vendor/font-awesome-4.1.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="http://prof.bpesquet.fr/vendor/highlight.js/styles/monokai.css" rel="stylesheet">
    <link href="http://prof.bpesquet.fr/styles/style.css" rel="stylesheet">

    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-39897312-3', 'auto');
        ga('send', 'pageview');
    </script>

    <link rel="shortcut icon" href="http://prof.bpesquet.fr/images/bpesquet.ico">

    <title>Structures répétitives</title>
</head>
<body data-spy="scroll" data-target="#TableOfContents">
    <nav class="navbar navbar-default navbar-fixed-top navbar-inverse" role="navigation">
        <div class="container">
            <div class="navbar-header">
                
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="http://prof.bpesquet.fr/">
                    <span class="glyphicon glyphicon-home"></span>
                </a>
            </div>

            <div class="collapse navbar-collapse nav-collapse">
                <ul class="nav navbar-nav">
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Ressources <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            <li><a href="http://prof.bpesquet.fr/livre/">Livres</a></li>
                            <li><a href="http://prof.bpesquet.fr/cours/">Cours</a></li>
                            <li><a href="http://prof.bpesquet.fr/tutoriel/">Tutoriels</a></li>
                            <li><a href="http://prof.bpesquet.fr/activite/">Activités</a></li>
                            <li><a href="http://prof.bpesquet.fr/article/">Articles</a></li>
                        </ul>
                    </li>
                    <li><a href="http://prof.bpesquet.fr/avancement/">Avancements</a></li>
                </ul>
                <ul class="nav navbar-nav navbar-right">
                    <li><a href="mailto:bpesquet@gmail.com" title="Contact"><i class="fa fa-envelope"></i></a></li>
                    <li><a href="https://twitter.com/bpesquet" title="Twitter"><i class="fa fa-twitter"></i></a></li>
                    <li><a href="https://plus.google.com/110003637459679741050?rel=author"><i class="fa fa-google-plus" title="Google+"></i></a></li>
                    <li><a href="https://github.com/bpesquet" title="GitHub"><i class="fa fa-github"></i></a></li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container">

<div class="row">

    <div class="col-md-9">
        <h1 class="pageTitle">Structures répétitives</h1>
        

<p>L&rsquo;objectif de ce chapitre est d&rsquo;apprendre comment ajouter à nos programmes des possibilités d&rsquo;exécution répétitive.</p>

<h1 id="toc_0">Définition</h1>

<p>Une structure répétitive, également appelée structure itérative ou encore <strong>boucle</strong>, permet de répéter plusieurs fois l&rsquo;exécution d&rsquo;une ou plusieurs instructions. Le nombre de répétitions peut :</p>

<ul>
<li>être connu à l&rsquo;avance.</li>
<li>dépendre de l&rsquo;évaluation d&rsquo;une <strong>condition</strong>.</li>
</ul>

<p>A chaque répétition, les instructions contenues dans la boucle sont exécutées. C&rsquo;est ce qu&rsquo;on appelle un tour de boucle ou encore une <strong>itération</strong>.</p>

<p><img src="http://prof.bpesquet.fr/images/content/repetitives_bart.jpg" class="content centered bordered" alt="repetitives_bart.jpg" /></p>

<p>Les structures répétitives sont très utilisées en programmation. Leur maîtrise est donc essentielle.</p>

<p>Il existe deux grands types de boucles, supportées par la grande majorité des langages de programmation. Nous allons les étudier successivement.</p>

<h1 id="toc_1">La boucle <code>while</code></h1>

<h2 id="toc_2">Le programme d&rsquo;exemple</h2>

<p>Prenons comme exemple un programme C# qui répète plusieurs fois des instructions.</p>

<pre><code>Console.WriteLine(&quot;Début du programme&quot;);
int compteur = 0;
while (compteur &lt; 10)
{
    compteur++;
    Console.WriteLine(&quot;Dans la boucle, tour numéro &quot; + compteur);
}
Console.WriteLine(&quot;Vous avez effectué &quot; + compteur + &quot; tour(s) de boucle&quot;);
</code></pre>

<p><img src="http://prof.bpesquet.fr/images/content/while_For.jpg" class="content centered bordered" alt="while_For.jpg" /></p>

<h2 id="toc_3">Syntaxe et fonctionnement</h2>

<p>La syntaxe de l&rsquo;instruction <code>while</code> est la suivante.</p>

<pre><code>while (condition)
{
    &lt;instructions&gt;
}
</code></pre>

<p>Avant chaque tour de boucle, la condition associée au <code>while</code> est évaluée :</p>

<ul>
<li>si elle est vraie, les instructions du bloc <code>while</code> sont exécutées. Ensuite, la ligne du <code>while</code> est à nouveau exécutée et la condition vérifiée.</li>
<li>si elle est fausse, les instructions du bloc ne sont pas exécutées et le programme continue juste après le bloc <code>while</code>.</li>
</ul>

<div class="alert alert-info">
    <strong>Définition</strong>
    <p><p>La boucle <code>while</code>, appelée également boucle TantQue, permet de répéter des instructions <strong>tant qu&rsquo;une condition est vérifiée</strong>.</p>
</p>
</div>

<h2 id="toc_4">Nombre de tours de boucle</h2>

<p>Il est important de définir précisement la condition associée à la boucle <code>while</code> afin d&rsquo;effectuer le bon nombre de tours de boucle. Voici l&rsquo;exemple précédent réécrit en initialisant la variable `compteur à 1 et non plus à 0.</p>

<pre><code>Console.WriteLine(&quot;Début du programme&quot;);
int compteur = 1;
while (compteur &lt;= 10)  // &lt;= au lieu de &lt;
{
    Console.WriteLine(&quot;Dans la boucle, tour numéro &quot; + compteur);
    compteur++;  // Instruction déplacée après la précédente
}
Console.WriteLine(&quot;Vous avez effectué &quot; + (compteur - 1) + &quot; tour(s) de boucle&quot;);
</code></pre>

<p>Il produit exactement le même résultat d&rsquo;exécution.</p>

<div class="alert">
    <strong>Remarque</strong>
    <p><p>Le bloc d&rsquo;instructions associé au while est appelé <strong>corps de la boucle</strong>. Il doit être placé entre accolades, sauf s&rsquo;il ne comporte qu&rsquo;une seule instruction (TODO).</p>
</p>
</div>

<p>Il existe aussi des situations où la condition du <code>while</code> dépend d&rsquo;une saisie demandée à l&rsquo;utilisateur.</p>

<pre><code>string saisie;
bool continuer = true;
while (continuer)
{
    Console.Write(&quot;Pour sortir de la boucle, tapez 0 : &quot;);
    saisie = Console.ReadLine();
    if (saisie == &quot;0&quot;)
        continuer = false;
}
</code></pre>

<p>Dans ce cas, il est impossible de prévoir à l&rsquo;avance le nombre de tours de boucles réalisés.</p>

<h1 id="toc_5">la boucle <code>for</code></h1>

<h2 id="toc_6">Le programme d&rsquo;exemple</h2>

<p>Voici notre programme d&rsquo;exemple initial réécrit d&rsquo;une autre manière.</p>

<pre><code>Console.WriteLine(&quot;Début du programme&quot;);
int compteur;
for (compteur = 0; compteur &lt; 10; compteur++)
{
    Console.WriteLine(&quot;Dans la boucle, tour numéro &quot; + (compteur + 1));
}
Console.WriteLine(&quot;Vous avez effectué &quot; + compteur + &quot; tour(s) de boucle&quot;);
</code></pre>

<p><img src="http://prof.bpesquet.fr/images/content/while_For.jpg" class="content centered bordered" alt="while_For.jpg" /></p>

<h2 id="toc_7">Syntaxe et fonctionnement</h2>

<p>La syntaxe de l&rsquo;instruction <code>for</code> est la suivante.</p>

<pre><code>for (initialisation; condition; étape)
{
    &lt;instructions&gt;
}
</code></pre>

<p>Voici son fonctionnement :</p>

<ul>
<li>L&rsquo;initialisation (<code>compteur = 0</code> dans l&rsquo;exemple) se produit une seule fois, au début de l&rsquo;exécution de la boucle.</li>
<li>La condition (<code>compteur &lt; 10</code> dans l&rsquo;exemple) est évaluée <strong>avant chaque tour de boucle</strong>. Si elle est vraie, un nouveau tour de boucle est effectué. Sinon, la boucle est terminée.</li>
<li>L&rsquo;étape (<code>compteur++</code> dans l&rsquo;exemple) est réalisée <strong>après chaque tour de boucle</strong>.</li>
</ul>

<p>A la fin de l&rsquo;exécution de l&rsquo;exemple précédent, la variable `compteur possède donc la valeur <em>10</em>.</p>

<div class="alert alert-info">
    <strong>Définition</strong>
    <p><p>La boucle <code>for</code>, appelée également boucle Pour, permet de répéter des instructions <strong>tant qu&rsquo;une condition est vérifiée</strong>. Elle permet de définir une initialisation qui a lieu une seule fois et une étape qui a lieu après chaque tour de boucle.</p>
</p>
</div>

<div class="alert">
    <strong>Remarque</strong>
    <p><p>L&rsquo;opérateur <code>++</code> est un raccourci : écrire <code>variable++</code> équivaut à écrire <code>variable = variable + 1</code>, en plus concis. L&rsquo;opérateur <code>++</code> est appelé opérateur de post-incrémentation.</p>
</p>
</div>

<div class="alert alert-info">
    <strong>Définition</strong>
    <p><p>L&rsquo;opération qui consiste à ajouter 1 à la valeur d&rsquo;une variable entière se nomme <strong>l&rsquo;incrémentation</strong>
(<a href="http://fr.wikipedia.org/wiki/Incr%C3%A9mentation">Wikipedia</a>).</p>
</p>
</div>

<div class="alert">
    <strong>Remarque</strong>
    <p><p>La variable utilisée dans l&rsquo;initialisation, la condition et l&rsquo;étape est appelée le <em>`compteur</em> de la boucle. Par convention, on la nomme souvent <em>i</em>.</p>
</p>
</div>

<h2 id="toc_8">Nombre de tours de boucle</h2>

<p>Comme avec un <code>while</code>, l&rsquo;initialisation et la condition d&rsquo;une boucle <code>for</code> doivent être définies avec précision. Voici l&rsquo;exemple précédent réécrit en initialisant la variable <code>compteur</code> à 1 et non plus à 0.</p>

<pre><code>Console.WriteLine(&quot;Début du programme&quot;);
int compteur;
for (compteur = 1; compteur &lt;= 10; compteur++)
{
    Console.WriteLine(&quot;Dans la boucle, tour numéro &quot; + compteur);
}
Console.WriteLine(&quot;Vous avez effectué &quot; + (compteur - 1) + &quot; tour(s) de boucle&quot;);
</code></pre>

<p>Il produit exactement le même résultat d&rsquo;exécution, mais la valeur finale de la variable <code>compteur</code> est 11 et non plus 10.</p>

<h2 id="toc_9">Portée du compteur de boucle</h2>

<p>Lorsqu&rsquo;on n&rsquo;a pas besoin d&rsquo;utiliser la variable compteur de boucle en dehors du corps de la boucle, on peut déclarer cette variable dans l&rsquo;initialisation de la boucle <code>for</code> qui l&rsquo;utilise.</p>

<pre><code>// ...
for (int compteur = 0; compteur &lt; 10; compteur++)
{
    // ...
}
// Impossible d'utiliser la variable compteur après la boucle
</code></pre>

<p>Dans ce cas, sa <strong>portée</strong> se limite au corps de la boucle, entre les accolades.</p>

<div class="alert alert-info">
    <strong>Définition</strong>
    <p><p>La <strong>portée</strong> d&rsquo;une variable est l&rsquo;ensemble des endroits d&rsquo;un programme où cette variable est utilisable.</p>
</p>
</div>

<h1 id="toc_10">Choix entre un <code>while</code> et un <code>for</code></h1>

<p>Certains contextes sont plus adaptés à l&rsquo;utilisation d&rsquo;une boucle <code>while</code>, d&rsquo;autre à celui d&rsquo;un <code>for</code>.</p>

<p>Ces deux structures permettent de répéter plusieurs fois un ensemble d&rsquo;instructions. La différence essentielle est que le nombre d&rsquo;itérations d&rsquo;un <code>for</code> est fixé au début de l&rsquo;exécution de la boucle.</p>

<ul>
<li>si on peut prévoir à l&rsquo;avance le nombre de tours de boucle, le <code>for</code> est préférable.</li>
<li>sinon, il faut utiliser un <code>while</code>.</li>
</ul>

<h1 id="toc_11">Erreurs à éviter</h1>

<h2 id="toc_12">Boucle <code>while</code> infinie</h2>

<p>Le principal risque lié à la boucle <code>while</code> est la <strong>boucle infinie</strong>. Il s&rsquo;agit d&rsquo;une erreur de programmation très facile à commettre, donc dangereuse.</p>

<pre><code>Console.WriteLine(&quot;Le manège démarre !&quot;);
int tour = 1;
while (tour &lt;= 10)  // Toujours vraie =&gt; boucle infinie
{
    Console.WriteLine(&quot;C'est le tour numéro &quot; + tour);
}
Console.WriteLine(&quot;Le manège s'arrête&quot;);
</code></pre>

<p>A l&rsquo;exécution, on ne sortira jamais du corps de la boucle puisque la variable <code>tour</code> vaudra toujours 1.</p>

<p>Pour corriger ce problème, il faut ajouter l&rsquo;instruction <code>tour++</code> dans le corps de la boucle.</p>

<pre><code>Console.WriteLine(&quot;Le manège démarre !&quot;);
int tour = 1;
while (tour &lt;= 10)  // Deviendra fausse quand tour &gt; 10
{
    Console.WriteLine(&quot;C'est le tour numéro &quot; + tour);
    tour++;
}
Console.WriteLine(&quot;Le manège s'arrête&quot;);
</code></pre>

<div class="alert alert-info">
    <strong>Définition</strong>
    <p><p>Une boucle infinie est une boucle mal écrite, dont la condition reste toujours vraie.</p>
</p>
</div>

<p>Pour éviter de créer une boucle infinie, il faut :</p>

<ul>
<li>écrire une condition de boucle correcte.</li>
<li>initialiser correctement la ou les variables impliquées dans la  condition de la boucle.</li>
<li>vérifier que ces variables sont modifiées dans le corps de la boucle pour rendre la condition fausse le moment venu.</li>
</ul>

<h2 id="toc_13">Manipulation du compteur d&rsquo;une boucle <code>for</code></h2>

<p>Imaginons qu&rsquo;on ait l&rsquo;idée (bizarre) de manipuler le compteur d&rsquo;une boucle <code>for</code> dans le corps de la boucle.</p>

<pre><code>Console.WriteLine(&quot;Début du programme&quot;);
for (int i = 1; i &lt;= 10; i++)
{
     Console.WriteLine(&quot;Dans la boucle, tour numéro &quot; + i);
     i = i + 1;  // Danger !
}
</code></pre>

<p>A chaque tour de boucle, le compteur est incrémenté deux fois : une fois dans le corps de la boucle puis une seconde fois dans l&rsquo;étape.</p>

<div class="alert alert-danger">
    <strong>Danger !</strong>
    <p><p>Quand on emploie une boucle <code>for</code>, l&rsquo;incrémentation du compteur de boucle est automatique après chaque tour de boucle. Sauf exception rarissime, Il ne faut donc surtout pas modifier cette variable à l&rsquo;intérieur de la boucle.</p>
</p>
</div>

        <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'bpesquet';
    var disqus_identifier = 'http:\/\/prof.bpesquet.fr\/cours\/structures-repetitives';
    var disqus_title = 'Structures répétitives';
    var disqus_url = 'http:\/\/prof.bpesquet.fr\/cours\/structures-repetitives';

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </div>
    <div class="col-md-3">
        <nav id="TableOfContents">
<ul>
<li><a href="#toc_0">Définition</a></li>
<li><a href="#toc_1">La boucle <code>while</code></a>
<ul>
<li><a href="#toc_2">Le programme d&rsquo;exemple</a></li>
<li><a href="#toc_3">Syntaxe et fonctionnement</a></li>
<li><a href="#toc_4">Nombre de tours de boucle</a></li>
</ul></li>
<li><a href="#toc_5">la boucle <code>for</code></a>
<ul>
<li><a href="#toc_6">Le programme d&rsquo;exemple</a></li>
<li><a href="#toc_7">Syntaxe et fonctionnement</a></li>
<li><a href="#toc_8">Nombre de tours de boucle</a></li>
<li><a href="#toc_9">Portée du compteur de boucle</a></li>
</ul></li>
<li><a href="#toc_10">Choix entre un <code>while</code> et un <code>for</code></a></li>
<li><a href="#toc_11">Erreurs à éviter</a>
<ul>
<li><a href="#toc_12">Boucle <code>while</code> infinie</a></li>
<li><a href="#toc_13">Manipulation du compteur d&rsquo;une boucle <code>for</code></a></li>
</ul></li>
</ul>
</nav>
    </div>

</div>

    </div> 

    <footer class="footer">
        <div class="container">
            <p class="pull-right">
                Créé avec <a href="http://hugo.spf13.com">Hugo</a> et <a href="http://getbootstrap.com">Bootstrap</a>.
            </p>
            <p>
                <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/fr/"><img src="http://prof.bpesquet.fr/images/by-nc-sa.png" alt="Creative Commons logo" /></a>
            </p>
        </div>
    </footer>

    <script src="http://prof.bpesquet.fr/vendor/jquery-1.11.1/jquery.min.js"></script>
    <script src="http://prof.bpesquet.fr/vendor/bootstrap-3.1.1/js/bootstrap.min.js"></script>
    <script src="http://prof.bpesquet.fr/vendor/highlight.js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    <script>
        
        $("img").addClass("img-responsive");
        
        
        $("table").addClass("table");
        
        
        $("#TableOfContents ul").addClass("nav");
        $("#TableOfContents > ul").addClass("sidenav");
        $("#TableOfContents").affix();

        
        
        window.addEventListener("hashchange", function() { scrollBy(0, -60) });
    </script>
</body>
</html>
