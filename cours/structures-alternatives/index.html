<!doctype html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    

    <link href="http://prof.bpesquet.fr/vendor/bootstrap-3.1.1/css/bootstrap.min.css" rel="stylesheet">
    <link href="http://prof.bpesquet.fr/vendor/font-awesome-4.1.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="http://prof.bpesquet.fr/vendor/highlight.js/styles/monokai.css" rel="stylesheet">
    <link href="http://prof.bpesquet.fr/styles/style.css" rel="stylesheet">

    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-39897312-3', 'auto');
        ga('send', 'pageview');
    </script>

    <link rel="shortcut icon" href="http://prof.bpesquet.fr/images/bpesquet.ico">

    <title>Structures alternatives</title>
</head>
<body data-spy="scroll" data-target="#TableOfContents">
    <nav class="navbar navbar-default navbar-fixed-top navbar-inverse" role="navigation">
        <div class="container">
            <div class="navbar-header">
                
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="http://prof.bpesquet.fr/">
                    <span class="glyphicon glyphicon-home"></span>
                </a>
            </div>

            <div class="collapse navbar-collapse nav-collapse">
                <ul class="nav navbar-nav">
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Ressources <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            <li><a href="http://prof.bpesquet.fr/livre/">Livres</a></li>
                            <li><a href="http://prof.bpesquet.fr/cours/">Cours</a></li>
                            <li><a href="http://prof.bpesquet.fr/tutoriel/">Tutoriels</a></li>
                            <li><a href="http://prof.bpesquet.fr/activite/">Activités</a></li>
                            <li><a href="http://prof.bpesquet.fr/article/">Articles</a></li>
                        </ul>
                    </li>
                    <li><a href="http://prof.bpesquet.fr/avancement/">Avancements</a></li>
                </ul>
                <ul class="nav navbar-nav navbar-right">
                    <li><a href="mailto:bpesquet@gmail.com" title="Contact"><i class="fa fa-envelope"></i></a></li>
                    <li><a href="https://twitter.com/bpesquet" title="Twitter"><i class="fa fa-twitter"></i></a></li>
                    <li><a href="https://plus.google.com/110003637459679741050?rel=author"><i class="fa fa-google-plus" title="Google+"></i></a></li>
                    <li><a href="https://github.com/bpesquet" title="GitHub"><i class="fa fa-github"></i></a></li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container">

<div class="row">

    <div class="col-md-9">
        <h1 class="pageTitle">Structures alternatives</h1>
        

<p>L&rsquo;objectif de ce chapitre est de découvrir comment enrichir nos programmes en leur ajoutant des possibilités d&rsquo;exécution conditionnelle.</p>

<h1 id="toc_0">Le programme d&rsquo;exemple</h1>

<p>Le programme ci-dessous permet de comparer deux nombres entiers saisis par l&rsquo;utilisateur.</p>

<pre><code>Console.Write(&quot;Entrez un premier nombre : &quot;);
string saisie = Console.ReadLine();
int nombre1 = Convert.ToInt32(saisie);
Console.Write(&quot;Entrez un second nombre : &quot;);
saisie = Console.ReadLine();
int nombre2 = Convert.ToInt32(sais
if (nombre1 &lt; nombre2)
{
    Console.WriteLine(&quot;Le premier nombre est plus petit que le second&quot;);
}
else
{
    if (nombre1 &gt; nombre2)
    {
        Console.WriteLine(&quot;Le premier nombre est plus grand que le second&quot;);
    }
    else
    {
        Console.WriteLine(&quot;Les deux nombres sont égaux&quot;);
    }
}
</code></pre>

<h1 id="toc_1">L&rsquo;instruction <code>if</code></h1>

<p>Pour fonctionner, notre programme d&rsquo;exemple a besoin de déterminer si le premier nombre saisi est inférieur au second. Pour cela, il utilise une nouvelle structure : l&rsquo;instruction <code>if</code>.</p>

<h2 id="toc_2">Syntaxe et fonctionnement</h2>

<p>La syntaxe du <code>if</code> est la suivante.</p>

<pre><code>if (condition)
{
    &lt;instructions&gt;
}
</code></pre>

<p>Les accolades ouvrantes et fermantes délimitent ce qu&rsquo;on appelle une unité de code source, appelée également <strong>bloc de code</strong>. Si la condition placée après l&rsquo;instruction <code>if</code> est <strong>vraie</strong>, alors les instructions contenues dans le bloc de code seront exécutées. Les parenthèses qui délimitent la condition sont indispensables en C#.</p>

<div class="alert alert-info">
    <strong>Définition</strong>
    <p><p>L&rsquo;instruction <code>if</code> permet d&rsquo;exécuter ou non des instructions selon la valeur d&rsquo;une <strong>condition</strong>.</p>
</p>
</div>

<div class="alert">
    <strong>Remarque</strong>
    <p><p>On observe que les instructions du bloc associé au <code>if</code> sont décalées par rapport à l&rsquo;instruction qui les contient. On dit qu&rsquo;elles sont <strong>indentées</strong> . Bien indenter ses programmes est une habitude importante à acquérir.</p>
</p>
</div>

<h2 id="toc_3">La notion de condition</h2>

<p>Voici un court extrait du premier exemple.</p>

<pre><code>// ...
if (nombre1 &lt; nombre2)
{
// ...
</code></pre>

<p>L&rsquo;instruction <code>if</code> est associée à la condition <code>(nombre1 &lt; nombre2)</code>. Cette condition est ce que l&rsquo;on appelle une <strong>expression</strong>.</p>

<div class="alert alert-info">
    <strong>Définition</strong>
    <p><p>Une <strong>expression</strong> est un ensemble de valeurs, de variables et d&rsquo;opérateurs qui produit un résultat.</p>
</p>
</div>

<p>Ici, le résultat dépend de la valeur de la variable <em>nombre</em> au moment de l&rsquo;exécution :</p>

<ul>
<li>si <code>nombre1</code> est strictement inférieur à <code>nombre2</code>, le résultat de l&rsquo;expression est <strong>vrai</strong> (<code>true</code> en C#).</li>
<li>si <code>nombre1</code> est supérieur ou égal à <code>nombre2</code>, le résultat de l&rsquo;expression est <strong>faux</strong> (<code>false</code> en C#).</li>
</ul>

<p>Autrement dit, l&rsquo;expression <code>(nombre1 &lt; nombre2)</code> renvoie une valeur de type <strong>booléen</strong>.</p>

<p>Toute expression renvoyant une valeur booléenne peut être utilisée comme condition avec un <code>if</code>. C&rsquo;est le cas des expressions utilisant des opérateurs de comparaison, dont voici la liste.</p>

<table>
<thead>
<tr>
<th>Opérateur</th>
<th>Signification</th>
</tr>
</thead>

<tbody>
<tr>
<td><code>==</code></td>
<td>Egal à</td>
</tr>

<tr>
<td><code>!=</code></td>
<td>Différent de</td>
</tr>

<tr>
<td><code>&lt;</code></td>
<td>Inférieur strictement</td>
</tr>

<tr>
<td><code>&lt;=</code></td>
<td>Inférieur ou égal</td>
</tr>

<tr>
<td><code>&gt;</code></td>
<td>Supérieur strictement</td>
</tr>

<tr>
<td><code>&gt;=</code></td>
<td>Supérieur ou égal</td>
</tr>
</tbody>
</table>

<div class="alert alert-danger">
    <strong>Danger !</strong>
    <p><p>La plupart des langages de programmation utilisent le symbole <code>=</code> pour symboliser l&rsquo;affectation d&rsquo;une valeur, et le symbole <code>==</code> pour l&rsquo;égalité. Attention aux confusions avec le sens mathématique de l&rsquo;opérateur <code>=</code>.</p>
</p>
</div>

<h1 id="toc_4">L&rsquo;instruction <code>else</code></h1>

<p>Dans notre exemple, on souhaite agir de manière alternative en fonction du résultat de la condition <code>(nombre1 &lt; nombre2)</code>. Le message à afficher est différent selon que cette condition soit vraie ou fausse.</p>

<pre><code>// ...
if (nombre1 &lt; nombre2)
{
    // Code exécuté si nombre1 &lt; nombre2
    Console.WriteLine(&quot;Le premier nombre est inférieur au second&quot;);
}
else
{
    // Code exécuté si nombre1 &gt;= nombre2
    // ...
}
</code></pre>

<h2 id="toc_5">Syntaxe et fonctionnement</h2>

<p>Une alternative s&rsquo;exprime grâce à l&rsquo;instruction <code>if</code> à laquelle on associe une instruction <code>else</code>.</p>

<pre><code>if (condition)
{
    &lt;instructions exécutées si la condition est vraie&gt;
}
else
{
    &lt;instructions exécutées si la condition est fausse&gt;
}
</code></pre>

<p>On peut la traduire par : si la condition est vraie alors exécuter les instructions du bloc <code>if</code>, sinon exécuter les instructions du bloc <code>else</code>.</p>

<div class="alert alert-info">
    <strong>Définition</strong>
    <p><p>L&rsquo;instruction <code>if ... else ...</code> permet de créer un <strong>branchement logique</strong> à l&rsquo;intérieur d&rsquo;un programme. Pendant l&rsquo;exécution, les instructions exécutées seront différentes selon la valeur de la condition. Un seul des deux blocs d&rsquo;instructions sera pris en compte.</p>
</p>
</div>

<div class="alert">
    <strong>Remarque</strong>
    <p><p>Il est fortement conseillé de toujours indenter les instructions contenues dans les blocs <code>if</code> et <code>else</code> par rapport à l&rsquo;instruction qui les contient.</p>
</p>
</div>

<h2 id="toc_6">Instructions <code>if</code>/<code>else</code> imbriquées</h2>

<p>Notre programme d&rsquo;exemple intégre la possibilité que les deux nombres saisis soient égaux.</p>

<pre><code>// ...
if (nombre1 &lt; nombre2)
{
    Console.WriteLine(&quot;Le premier nombre est plus petit que le second&quot;);
}
else
{
    // Code exécuté si nombre1 &gt;= nombre2 
    if (nombre1 &gt; nombre2)
    {
        // Code exécuté si nombre1 &gt; nombre2 
        Console.WriteLine(&quot;Le premier nombre est plus grand que le second&quot;);
    }
    else
    {
        // Code exécuté si nombre1 = nombre2 
        Console.WriteLine(&quot;Les deux nombres sont égaux&quot;);
    }
}
</code></pre>

<p>Il est possible de représenter graphiquement le flux d&rsquo;exécution du programme d&rsquo;exemple au moyen d&rsquo;un <strong>diagramme de flux</strong>.</p>

<p><img src="http://prof.bpesquet.fr/images/content/flux_comparaison.png" class="content centered" alt="flux_comparaison.png" /></p>

<p>Une instruction <code>if</code> peut être placée à l&rsquo;intérieur d&rsquo;un bloc d&rsquo;une autre instruction <code>if</code>. C&rsquo;est ce qu&rsquo;on appelle <strong>imbriquer des conditions</strong>. Il n&rsquo;y a pas de limite (si ce n&rsquo;est la lisibilité du programme) au niveau de profondeur des imbrications. Grâce à l&rsquo;indentation des instructions, on visualise bien les différents blocs de code crées par les instructions <code>if</code>.</p>

<div class="alert alert-warning">
    <strong>Avertissement</strong>
    <p><p>A chaque accolade ouvrante doit correspondre une accolade fermante.</p>
</p>
</div>

<h2 id="toc_7">Omission des accolades</h2>

<p>Dans le cas où le bloc de code associé à un <code>if</code> ou à un <code>else</code> ne comporte qu&rsquo;une seule instruction, il est possible d&rsquo;omettre les accolades. Notre programme d&rsquo;exemple pourrait être réécrit comme ci-dessous.</p>

<pre><code>// ...
if (nombre1 &lt; nombre2)
    Console.WriteLine(&quot;Le premier nombre est plus petit que le second&quot;);
else
    if (nombre1 &gt; nombre2)
        Console.WriteLine(&quot;Le premier nombre est plus grand que le second&quot;);
    else
        Console.WriteLine(&quot;Les deux nombres sont égaux&quot;);
</code></pre>

<div class="alert alert-success">
    <strong>Conseil</strong>
    <p><p>En phase d&rsquo;apprentissage, il est conseillé d&rsquo;ajouter systématiquement des accolades pour éviter les mauvaises surprises.</p>
</p>
</div>

<h1 id="toc_8">L&rsquo;instruction <code>switch</code></h1>

<h2 id="toc_9">Le programme d&rsquo;exemple</h2>

<p>Le programme ci-dessous conseille l&rsquo;utilisateur sur la tenue à porter en fonction de la météo actuelle.</p>

<pre><code>Console.Write(&quot;Fait-il froid dehors ? (1 = un peu, 2 = beaucoup, 3 = à la folie) : &quot;);
string froid = Console.ReadLine();
switch (froid)
{
    case &quot;1&quot;:
        Console.WriteLine(&quot;Sortez en pull.&quot;);
        break;
    case &quot;2&quot;:
        Console.WriteLine(&quot;Sortez en blouson.&quot;);
        break;
    case &quot;3&quot;:
        Console.WriteLine(&quot;Restez au chaud à la maison !&quot;);
        break;
    default:
        Console.WriteLine(&quot;Choix incorrect.&quot;);
        break;
}
</code></pre>

<h2 id="toc_10">Syntaxe et fonctionnement</h2>

<p>L&rsquo;instruction <code>if</code> ne permet de gérer qu&rsquo;une condition booléenne vraie ou faux. Dans certains cas, on souhaiterait plutôt pouvoir déclencher un traitement en fonction d&rsquo;un choix possible parmi plusieurs plutôt que d&rsquo;imbriquer des <code>if ... else ...</code>.</p>

<p>L&rsquo;instruction <code>switch</code> offre la possibilité de répondre de manière appropriée à la valeur saisie. Elle déclenche l&rsquo;exécution d&rsquo;un bloc d&rsquo;instructions parmi plusieurs possibles. Seul le bloc correspondant à la valeur testée sera pris en compte.</p>

<p>Sa syntaxe est la suivante.</p>

<pre><code>switch (variable)
{
case valeur1:
    &lt;instructions&gt;
    break;
case valeur2:
    &lt;instructions&gt;
    break;
...
default:
    &lt;instructions&gt;
    break;
}
</code></pre>

<p>Il n&rsquo;y a pas de limite au nombre de cas possibles. Le mot-clé <code>default</code>, à placer en fin de <code>switch</code>, est optionnel. Il sert souvent à gérer les cas d&rsquo;erreurs, comme ci-dessus.</p>

<div class="alert alert-warning">
    <strong>Avertissement</strong>
    <p><p>Les instructions <code>break</code> dans les blocs <code>case</code> sont indispensables pour éviter de passer d&rsquo;un bloc à un autre.</p>
</p>
</div>

<h1 id="toc_11">Conditions complexes</h1>

<h2 id="toc_12">L&rsquo;opérateur logique &amp;&amp;</h2>

<p>Supposons qu&rsquo;on souhaite savoir si la valeur d&rsquo;une variable <code>X</code> est comprise entre 100 et 150.</p>

<p><img src="http://prof.bpesquet.fr/images/content/intervalle_dedans.jpg" class="content centered" alt="intervalle_dedans.jpg" /></p>

<p>Pour cela, il faut regarder si la valeur de <code>X</code> est à la fois supérieure ou égale à 100 et inférieure ou égale à 150. L&rsquo;expression associée serait : <code>(X &gt;= 100) ET (X &lt;= 150)</code>. Cette condition est formée de deux sous-conditions qui doivent être vérifiées simultanément pour que le résultat soit vrai.</p>

<div class="alert">
    <strong>Remarque</strong>
    <p><p>L&rsquo;expression <code>100 ≤ X ≤ 150</code> est mathématiquement valable mais ne peut pas s&rsquo;employer en programmation.</p>
</p>
</div>

<p>En C# comme dans de nombreux autres langages, l&rsquo;opérateur logique <strong>ET</strong> s&rsquo;écrit <code>&amp;&amp;</code>.</p>

<pre><code>Console.Write(&quot;Entrez X : &quot;);
string saisie = Console.ReadLine();
double X = Convert.ToDouble(saisie);
if ((X &gt;= 100) &amp;&amp; (X &lt;= 150))
{
    Console.WriteLine(&quot;X est compris entre 100 et 150&quot;);
}
</code></pre>

<p>Avec l&rsquo;opérateur <code>&amp;&amp;</code>, la seule manière d&rsquo;avoir un résultat vrai est que les deux sous-conditions soient vraies.</p>

<h2 id="toc_13">L&rsquo;opérateur logique ||</h2>

<p>On pourrait égaler souhaiter vérifier le fait que <code>X</code> soit en dehors de
l&rsquo;intervalle [100:150].</p>

<p><img src="http://prof.bpesquet.fr/images/content/intervalle_dehors.jpg" class="content centered" alt="intervalle_dehors.jpg" /></p>

<p>Ici, <code>X</code> peut être soit inférieur à 100, soit supérieur à 150. L&rsquo;expression correspondante est <code>(X &lt; 100) OU (X &gt; 150)</code>. Il suffit que l&rsquo;une ou l&rsquo;autre des sous-conditions soit remplie pour que le résultat
soit vrai.</p>

<p>L&rsquo;opérateur logique <strong>OU</strong> s&rsquo;écrit en C# <code>||</code>.</p>

<pre><code>// ...
if ((X &lt; 100) || (X &gt; 150))
{
    Console.WriteLine(&quot;X est inférieur à 100 ou supérieur à 150&quot;);
}
</code></pre>

<p>Avec l&rsquo;opérateur <code>||</code>, la seule manière d&rsquo;avoir un résultat faux est que les deux conditions soient fausses.</p>

<h2 id="toc_14">L&rsquo;opérateur logique !</h2>

<p>Exprimer le fait que <code>X</code> soit en dehors de l&rsquo;intervalle [100:150] revient à prendre l&rsquo;inverse de la condition qui vérifie que <code>X</code> est à l&rsquo;intérieur de cet intervalle. Autrement dit, l&rsquo;expression
<code>(X &lt; 100) OU (X &gt; 150)</code> est équivalente à <code>Non((X &gt;= 100) ET (X &lt;= 150))</code>.</p>

<p>L&rsquo;opérateur logique <strong>NON</strong> qui inverse la valeur d&rsquo;une condition booléenne s&rsquo;écrit en C# <code>!</code>.</p>

<pre><code>// ...
if (!((X &gt;= 100) &amp;&amp; (X &lt;= 150)))
{
    Console.WriteLine(&quot;X est inférieur à 100 ou supérieur à 150&quot;);
}
</code></pre>

        <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'bpesquet';
    var disqus_identifier = 'http:\/\/prof.bpesquet.fr\/cours\/structures-alternatives';
    var disqus_title = 'Structures alternatives';
    var disqus_url = 'http:\/\/prof.bpesquet.fr\/cours\/structures-alternatives';

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </div>
    <div class="col-md-3">
        <nav id="TableOfContents">
<ul>
<li><a href="#toc_0">Le programme d&rsquo;exemple</a></li>
<li><a href="#toc_1">L&rsquo;instruction <code>if</code></a>
<ul>
<li><a href="#toc_2">Syntaxe et fonctionnement</a></li>
<li><a href="#toc_3">La notion de condition</a></li>
</ul></li>
<li><a href="#toc_4">L&rsquo;instruction <code>else</code></a>
<ul>
<li><a href="#toc_5">Syntaxe et fonctionnement</a></li>
<li><a href="#toc_6">Instructions <code>if</code>/<code>else</code> imbriquées</a></li>
<li><a href="#toc_7">Omission des accolades</a></li>
</ul></li>
<li><a href="#toc_8">L&rsquo;instruction <code>switch</code></a>
<ul>
<li><a href="#toc_9">Le programme d&rsquo;exemple</a></li>
<li><a href="#toc_10">Syntaxe et fonctionnement</a></li>
</ul></li>
<li><a href="#toc_11">Conditions complexes</a>
<ul>
<li><a href="#toc_12">L&rsquo;opérateur logique &amp;&amp;</a></li>
<li><a href="#toc_13">L&rsquo;opérateur logique ||</a></li>
<li><a href="#toc_14">L&rsquo;opérateur logique !</a></li>
</ul></li>
</ul>
</nav>
    </div>

</div>

    </div> 

    <footer class="footer">
        <div class="container">
            <p class="pull-right">
                Créé avec <a href="http://hugo.spf13.com">Hugo</a> et <a href="http://getbootstrap.com">Bootstrap</a>.
            </p>
            <p>
                <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/fr/"><img src="http://prof.bpesquet.fr/images/by-nc-sa.png" alt="Creative Commons logo" /></a>
            </p>
        </div>
    </footer>

    <script src="http://prof.bpesquet.fr/vendor/jquery-1.11.1/jquery.min.js"></script>
    <script src="http://prof.bpesquet.fr/vendor/bootstrap-3.1.1/js/bootstrap.min.js"></script>
    <script src="http://prof.bpesquet.fr/vendor/highlight.js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    <script>
        
        $("img").addClass("img-responsive");
        
        
        $("table").addClass("table");
        
        
        $("#TableOfContents ul").addClass("nav");
        $("#TableOfContents > ul").addClass("sidenav");
        $("#TableOfContents").affix();

        
        
        window.addEventListener("hashchange", function() { scrollBy(0, -60) });
    </script>
</body>
</html>
